* C:\Users\Levovo20x\Documents\GitHub\EE463-Hardware-Project\buck converter trial\buck converter- analog control - ACS712 model - No3Phasemodel.asc
M1 N016 pwm_signal 0 0 IRFZ46N
D1 N016 N005 D
L1 N005 N006 10µH
V3 N013 N016 12
R1 N007 N013 0.1
R4 N007 N006 0.1
V13 10V 0 10V
V1 N009 0 PULSE(0 10 0 0 0 6.66us 13.33us)
R2 triangle_wave N009 1.5k
C1 triangle_wave 0 2nF
XU1 duty_reference triangle_wave 10V 0 pwm_signal AD820
XU3 ACS712_VOUT N011 10V 0 ~INCREASE_PWM_REF AD820
C3 duty_reference 0 500nF IC=3
C4 N007 N016 100µf IC=12
B1 ACS712_VOUT 0 V=2.5+0.083*I(R1)
V4 N005 0 SINE(20 3 150)
R5 duty_reference 0 30k
Q2 N012 N010 10V 0 BC557B
R3 CURRENT_REF 0 3.3k
D3 0 N004 RB876W
R6 N004 CURRENT_REF 2.2k
C2 N004 0 100nF
R7 10V N004 3.3k
R9 10V duty_reference 70k
XU2 MIN_CURRENT_REF ACS712_VOUT 10V 0 N014 AD820
R10 MIN_CURRENT_REF 0 2.55k
D5 0 N003 RB876W
R11 N003 MIN_CURRENT_REF 2.45k
C5 N003 0 100nF
R12 10V N003 5k
Q1 N011 N015 0 0 BC547C
R13 N015 N014 5k
Q3 N017 N018 0 0 BC547C
XU4 ACS712_VOUT CURRENT_REF 10V 0 DECREASE_PWM AD820
R15 N018 DECREASE_PWM 100k
R16 N010 ~INCREASE_PWM_REF 100k
R17 CURRENT_REF N011 25k
R8 duty_reference N017 6.6k
R14 N012 duty_reference 6.6k
.model D D
.lib C:\Users\Levovo20x\Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\Users\Levovo20x\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\Levovo20x\Documents\LTspiceXVII\lib\cmp\standard.mos
* 75kHz square wave
* ACS712 MODEL
* You may add low pass filter since\n this sensor has a bandwith of 50kHz
.tran 0 25ms 1ms
* CURRENT REFERENCE
* MIN CURRENT REFERENCE (2.5A)
.lib ADI1.lib
.backanno
.end
