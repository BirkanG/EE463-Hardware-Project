Version 4
SHEET 1 1692 856
WIRE -400 -80 -512 -80
WIRE 256 -80 -224 -80
WIRE 352 -80 256 -80
WIRE 496 -80 432 -80
WIRE 848 -80 576 -80
WIRE 848 -48 848 -80
WIRE 256 -16 256 -80
WIRE -400 0 -480 0
WIRE -336 0 -336 -80
WIRE -224 0 -224 -80
WIRE -224 0 -288 0
WIRE 848 64 848 32
WIRE -400 80 -448 80
WIRE -336 80 -336 0
WIRE -288 96 -288 0
WIRE -224 96 -224 0
WIRE -848 160 -880 160
WIRE -448 160 -448 80
WIRE -448 160 -768 160
WIRE -448 176 -448 160
WIRE -400 176 -448 176
WIRE 256 176 256 48
WIRE 848 176 848 144
WIRE 848 176 256 176
WIRE -720 192 -768 192
WIRE -480 192 -480 0
WIRE -480 192 -640 192
WIRE 256 208 256 176
WIRE -608 224 -656 224
WIRE -512 224 -512 -80
WIRE -512 224 -528 224
WIRE -880 240 -880 160
WIRE -768 240 -768 192
WIRE -656 240 -656 224
WIRE -480 256 -480 192
WIRE -400 256 -480 256
WIRE -336 256 -336 176
WIRE -288 256 -288 176
WIRE -288 256 -336 256
WIRE -224 256 -224 160
WIRE -224 256 -288 256
WIRE 1056 256 1056 208
WIRE 1184 256 1136 256
WIRE 784 272 736 272
WIRE 80 288 -32 288
WIRE 208 288 160 288
WIRE -512 336 -512 224
WIRE -400 336 -512 336
WIRE -336 336 -336 256
WIRE 1136 336 1136 256
WIRE 736 352 736 272
WIRE 1056 352 1056 336
WIRE 1104 352 1056 352
WIRE -880 368 -880 320
WIRE -768 368 -768 320
WIRE -768 368 -880 368
WIRE -656 368 -656 320
WIRE -656 368 -768 368
WIRE -32 368 -32 288
WIRE 256 368 256 304
WIRE 352 368 256 368
WIRE 480 368 432 368
WIRE 576 368 576 336
WIRE 576 368 480 368
WIRE 704 368 576 368
WIRE 1392 368 1168 368
WIRE 960 384 768 384
WIRE 1104 384 960 384
WIRE 256 400 256 368
WIRE 480 400 480 368
WIRE 704 400 640 400
WIRE -768 432 -768 368
WIRE 1136 448 1136 400
WIRE 736 464 736 416
WIRE 640 480 640 400
WIRE -224 512 -224 256
WIRE -32 512 -32 448
WIRE -32 512 -224 512
WIRE 256 512 256 480
WIRE 256 512 -32 512
WIRE 480 512 480 464
WIRE 960 528 960 384
WIRE -768 544 -768 512
WIRE -32 544 -32 512
WIRE 640 592 640 560
FLAG -32 544 0
FLAG -768 544 0
FLAG 480 512 0
FLAG 576 336 Vsense
FLAG 736 464 0
FLAG 864 272 0
FLAG 640 592 0
FLAG 960 528 increase_pwm_signal_1
FLAG 1136 448 0
FLAG 1264 256 0
FLAG 1056 208 0
FLAG 1392 368 increase_pwm_signal_2
SYMBOL nmos 208 208 R0
SYMATTR InstName M1
SYMATTR Value IRFZ46N
SYMBOL diode 272 48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL ind 336 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 30µH
SYMBOL voltage -32 352 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 15 0 0 0 7us 10us)
SYMATTR InstName V1
SYMBOL res 176 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 5
SYMBOL voltage 848 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL res 832 -64 R0
SYMATTR InstName R1
SYMATTR Value 0.1
SYMBOL voltage -656 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0 15 50 0 0 240)
SYMBOL voltage -768 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0 15 50 0 0 120)
SYMBOL voltage -880 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value SINE(0 15 50)
SYMBOL diode -400 -64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMBOL diode -400 16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMBOL diode -400 96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMBOL diode -336 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
SYMBOL diode -336 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D6
SYMBOL diode -336 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D7
SYMBOL cap -240 96 R0
SYMATTR InstName C2
SYMATTR Value 47µF
SYMBOL res -784 416 R0
SYMATTR InstName R3
SYMATTR Value 25k
SYMBOL res 592 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 0.1
SYMBOL res 240 384 R0
SYMATTR InstName R5
SYMATTR Value 0.002
SYMBOL cap 464 400 R0
SYMATTR InstName C1
SYMATTR Value 50nF
SYMBOL res 448 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 500
SYMBOL OpAmps\\AD824 736 320 R0
SYMATTR InstName U1
SYMBOL voltage 768 272 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5V
SYMBOL voltage 640 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 10mv
SYMBOL OpAmps\\AD824 1136 304 R0
SYMATTR InstName U2
SYMBOL voltage 1168 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value 5V
SYMBOL voltage 1056 352 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value 1V
SYMBOL ind -864 176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 0.3mH
SYMBOL ind -736 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 0.3mH
SYMBOL ind -624 240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 0.3mH
SYMBOL voltage -288 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value 24
TEXT -912 568 Left 2 !.tran 0 15ms 10ms
